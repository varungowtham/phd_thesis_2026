%------------------------------
% DOCUMENT AND ENCODING
%------------------------------
\usepackage[
	english,				% english language
	ngerman,				% new german language
]{babel} 					% language package, second language is DEFAULT
\usepackage{calc}			% can calculate the length of a string and use it for table colum specifications
\usepackage[
	nodayofweek				% do not print day of week with \today command
]{datetime}					% package for dates
\usepackage[
	T1						% font encoding in western european style
]{fontenc}					% font encoding
\usepackage{ifthen}			% allows for if-then-else commands
\usepackage[
	utf8					% UTF-8 
]{inputenc}					% input encoding (the .tex files)
\usepackage[
	activate,				% activate expansion and protrusion
	kerning=true,			% activates extended kerning for the font
	factor=1100,			% factor by which the characters will be protruded
	final,					% final document mode
	spacing=true,			% activates variable space between words
	stretch=10,				% stretch faktor
	shrink=10,				% factor for font shrinking
	tracking=true,			% systematically change the tracking of the fonts	
]{microtype}				% This package might improve the look of the PDF by minimally stretching or extending fonts, etc. You can uncomment it to see the results
\usepackage{morewrites}		% allows TeX to write to more than 16 files
\usepackage{pdfpages}
\usepackage[
	nomencl=true,			% do not use scrhack for nomencl
]{scrhack}					% package to achieve full compability between KOMA and other packages; MUST BE LOADED BEFORE SETSPACE
\usepackage[
    automark, 				% mark chapter and section names
    ilines 					% separation line ragged left ausrichten
]{scrlayer-scrpage}
\usepackage{textcomp}		% sup­ports the Text Com­pan­ion fonts, which pro­vide many text sym­bols, in the TS1 en­cod­ing
\usepackage[
	colorinlistoftodos,		% adds a small color square
	\languagename,			% sets the localization of the package based on babel
	textsize=footnotesize,	% font size of todos
]{todonotes}
\usepackage{xparse}			% define new document level commands
%------------------------------
% TABLES
%------------------------------
\usepackage{array}			% allows to set styles for specific columns
\usepackage{booktabs}		% special table properties (\toprule, \midrule, \bottomrule)
\usepackage{longtable} 		% tables over several pages
\usepackage{multirow}		% columns in several rows
\usepackage{tabu}			% supplies an improved X column
\usepackage{tabularx} 		% better tabulars
\usepackage[
	flushleft,				% no hanging indentation on notes
]{threeparttable}			% tables with footnotes
\usepackage[
]{threeparttablex}			% extends the threeparttable package to longtables
%------------------------------
% GRAPHICS
%------------------------------
\usepackage{asymptote}		% package for using asymptote in latex
\usepackage{graphicx}		% for including pictures
\usepackage{overpic}		% overlay to add text to figures
\usepackage{wrapfig}		% figures with surrounding text
%------------------------------
% FONT, MATH, AND SYMBOLS
%------------------------------
\usepackage[
	intlimits,				% limits of integrals are placed above and below the integral
]{amsmath} 					% mathematical environments and commands
\usepackage{amssymb}		% mathematical symbols
\usepackage{amsthm}			% theorem environment
\usepackage[
	makeroom				% extend equation appropriately
]{cancel}  					% for elimating arrows in equations
\usepackage{chemfig}		% package for drawing molecules
\usepackage{chemmacros}		% package for chemistry
\usepackage{courier}		% courier font for lstlistings
\usepackage[
	scaled=0.95,			% Helvetiva is scaled to 95%
]{helvet}					% contains the Helvetica font
\usepackage{icomma}			% distance after comma in math environment
\usepackage[
	osf,					% old style figures for numbers in text
	sc,						% with small caps
]{mathpazo}    				% contains the Palatino font
\usepackage{mathtools}		% some additional symbols
\usepackage{nicefrac}		% makes fractions in lines nicer
\usepackage{upgreek}		% upright greek symbols
%------------------------------
% UNITS
%------------------------------
\newcommand{\SILangSpec}{}  % set localization of SIunix package depending on the default language of the document
\newcommand{\SIRangePhrase}{}
\iflanguage{english}{%
	\renewcommand{\SILangSpec}{US}%
	\renewcommand{\SIRangePhrase}{~to~}%
}{%
	\iflanguage{ngerman}{%
		\renewcommand{\SILangSpec}{DE}%
		\renewcommand{\SIRangePhrase}{~bis~}%
	}{}%
}
\usepackage[
	detect-family=true,		% adapt unit typesetting to surrounding font family
	detect-mode=true,		% adapt output to surrounding text style
	locale=\SILangSpec,		% set localization in package
	mode=text,				% text mode 
	range-phrase={\SIRangePhrase},	% for unit range "4 to 10 K"
	range-units=single,		% it is 4 to 10 K and not 4K to 10K
	retain-explicit-plus,	% \SI{1E+4}{} = 1E+04 in the text
	retain-unity-mantissa=false,% no mantissa for numbers like 1e4
	retain-zero-exponent=true,	% no exponent for numbers like 1e0
	separate-uncertainty=true,	% uncertainties are separated from numbers
]{siunitx}					% formating of SI units
%------------------------------
% TEXT
%------------------------------
\usepackage[
	algochapter,			% counter includes the chapter	
	ruled,					% rules are added
]{algorithm2e}				% for displaying algorithms
\usepackage{blindtext}		% possibility to easily add blindtext
\usepackage[
	font={small,it},		% write caption small and italic
	labelfont=bf,			% label font bold
	textformat=period,		% caption ends automatically with full stop
]{caption}					% caption package
\usepackage{enumitem}		% modification of lists
\usepackage{footnote} 		% footnotes in floats
\usepackage[
	framemethod=TikZ,		% use TikZ for frames
]{mdframed} 				% frames, e.g. for environments, MUST BE LOADED AFTER THE AMSTH PACKAGE
\usepackage[
	all						% sets widow and orphan penalties for the whole document
]{nowidow}					% widows and orphans
\usepackage[
	above,					% floats may also appear in the section above
	below,					% floats may also appear in the section below
]{placeins}					% is used to avoid floating objects after the \FloatBarrier command
\usepackage[
	onehalfspacing			% 1.5 distance between lines
]{setspace} 				% package for line spacing
\usepackage{subcaption}		% subfigures
\usepackage{xcolor}			% colors are added
%------------------------------
% REFERENCES
%------------------------------
\usepackage[
	backref=true,			% backref to page with citation in references
	backrefstyle=three,		% shorten the number of displayed pages, see biblax documentation
	bibencoding=utf8,		% .bib file is utf-8 encoded
	citestyle=authoryear,	% citation stlye in text
	defernumbers=true,		% correct numbering for numerical references with multiple lists of references
	dashed=false,			% do not print dash for repeated authors
	date=year,				% only print the year in all references
	doi=true,				% print doi in references
	giveninits=true,		% abbreviate first names to initials
	hyperref=true,			% use hyperref
	isbn=true,				% print isbn in references
	maxbibnames=99,			% maximum number of authors (to avoid et al./u.a. in references
	sortlocale=auto,		% sorting of the references automatically using babel
	style=authoryear,		% style of the references
	uniquename=init,		% see biblatex documentation (basically checks if all authors can be identified by their last name)
	url=true				% print url in the references
]{biblatex}
\usepackage[
	autostyle=true,			% automatic selection of the language specific quotation marks
	strict=true				% all warning are turned into errors
]{csquotes}					% quotation marks etc. in references
%------------------------------
% LISTS OF SYMBOLS AND ABBREVIATIONS AND INDEX
%------------------------------
\usepackage[
	hyperref=true,			% link abbreviations
	index=true,				% add abbreviations to the index register
	only-used=false,		% print only those used in the text
	sort=true,				% sort the abbreviations
]{acro}						% package for list of abbreviations
\usepackage{imakeidx}		% package for keyword index
\usepackage[
	intoc,					% list of symbols appears in list of content
	nomentbl,				% use nomentbl version of \nomenclature command
]{nomencl}					% package for list of symbols
%------------------------------
% CODE
%------------------------------
\usepackage{listings}		% for code publication, e.g. in the appendix

%------------------------------
% OWN PACKAGES
%------------------------------
% You can use this area for loading additional packages
% in this way, it is simpler to pull a new version of the template - you can simply copy this area to the new version
% make sure that these packages do not require a certain loading order or have dependencies on packages loaded above



%------------------------------
% HYPERREF - USUALLY MUST BE LOADED LAST
%------------------------------
% hyperref is automatically included in the pdfx package and hence does not need to be loaded
\usepackage[a-2b]{pdfx}		% package for PDF/A-2b conformity 
%------------------------------
% DO NOT LOAD PACKAGES AFTER HYPERREF/PDFX UNLESS THEIR PACKAGE DOCUMENTATION SAYS SO
%------------------------------
%------------------------------
% DO NOT LOAD PACKAGES AFTER HYPERREF/PDFX UNLESS THEIR PACKAGE DOCUMENTATION SAYS SO
%------------------------------
%------------------------------
% DO NOT LOAD PACKAGES AFTER HYPERREF/PDFX UNLESS THEIR PACKAGE DOCUMENTATION SAYS SO
%------------------------------