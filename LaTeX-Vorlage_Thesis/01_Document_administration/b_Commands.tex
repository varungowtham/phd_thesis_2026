%------------------------------
% ENVIRONMENTS
%------------------------------

%% Dedication
\newenvironment{dedication_env}	% defines the dedication environment
{\Large\begin{quote}\begin{center}\begin{em}}
{\par\end{em}\end{center}\end{quote}}

%% Algorithm
\SetAlgoSkip{bigskip}			% vertical space between text and algorithm

%% Theorems, Definitions, and more
\newtheoremstyle{mytheoremstyle}% own theorem style
{\topsep}   
{\topsep}   
{\itshape}  
{0pt}       
{\bfseries} 
{}         
{5pt plus 1pt minus 1pt} 
{\thmname{#1} \thmnumber{#2} \thmnote{\ (#3)}:}

\theoremstyle{mytheoremstyle}	% definition via amsthm package
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}{Lemma}[chapter]
\newtheorem{remark}{Remark}[chapter]

\newmdtheoremenv[				% theorem environment
  linecolor=black,
  roundcorner=2pt,
  linewidth=2pt
]{theorem_env}{Theorem}[chapter]

\newmdtheoremenv[				% lemma environment
  linecolor=blue,
  roundcorner=2pt,
  linewidth=1pt
]{lemma_env}{Lemma}[chapter]

\newmdtheoremenv[				% remark environment
  linecolor=red,
  roundcorner=2pt,
  linewidth=0.5pt
]{remark_env}{Remark}[chapter]

\newmdtheoremenv[				% definition environment
  linecolor=black,
  roundcorner=2pt,
  linewidth=1pt
]{definition}{Definition}[chapter]

%------------------------------
% DIRECTORIES
%------------------------------
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

%------------------------------
% TABLES, LISTS, and NUMERATIONS
%------------------------------

\graphicspath{{Figures/}} 		% directory in which LaTeX searches for figures

%% german caption redefinitions
\addto\captionsngerman{%		
\renewcommand{\figurename}{Abb.}% changes german figure caption to Abb. chapter.number
\renewcommand{\tablename}{Tab.} % changes german table caption to Tab. chapter.number
\SetAlgorithmName{Algorithmus}{Algorithmus}{Algorithmenverzeichnis}	% german name of list of algorithms
\renewcommand{\nomname}{Symbolverzeichnis}	% german name of list of symbols			
}

%% english caption redefinitions
\addto\captionsenglish{	
\renewcommand{\figurename}{Fig.}% changes english figure caption to Fig. chapter.number
\renewcommand{\tablename}{Tab.}	% changes english table caption to Tab. chapter.number
\renewcommand{\nomname}{List of Symbols} % english name of list of symbols
}
\addtotoclist[algorithm2e]{loa}
\setuptoc{loa}{totoc}
\newcommand*{\listofloaname}{\listalgorithmcfname}
\renewcommand{\listofalgorithms}{\listoftoc{loa}}

%% autoref german
\addto\extrasngerman{%
\def\chapterautorefname{Kap.}%
\def\sectionautorefname{Abschn.}%
\def\subsectionautorefname{Abschn.}%
\def\figureautorefname{Abb.}%
\def\tableautorefname{Tab.}%
\def\equationautorefname~#1\null{Gl.~(#1)\null}
\def\chapterautorefnamelong{Kapitel}%
\def\sectionautorefnamelong{Abschnitt}%
\def\subsectionautorefnamelong{Abschnitt}%
\def\figureautorefnamelong{Abbildung}%
\def\tableautorefnamelong{Tabelle}%
\def\equationautorefnamelong~#1\null{Gleichung~(#1)\null}
}

%% autoref english
\addto\extrasenglish{%
\def\chapterautorefname{Chap.}%
\def\sectionautorefname{Sec.}%
\def\subsectionautorefname{Subsec.}%
\def\figureautorefname{Fig.}%
\def\tableautorefname{Tab.}%
\def\equationautorefname~#1\null{Eq.~(#1)\null}
\def\chapterautorefnamelong{Chapter}%
\def\sectionautorefnamelong{Section}%
\def\subsectionautorefnamelong{Subsection}%
\def\figureautorefnamelong{Figure}%
\def\tableautorefnamelong{Table}%
\def\equationautorefnamelong~#1\null{Equation~(#1)\null}
}

%% autoref at beginning of sentences (long form)
\newcommand{\Autoref}[1]{%
  \begingroup%
  \def\chapterautorefname~##1\null{\chapterautorefnamelong~##1\null}
  \def\sectionautorefname~##1\null{\sectionautorefnamelong~##1\null}%
  \def\subsectionautorefname~##1\null{\subsectionautorefnamelong~##1\null}%
  \def\figureautorefname~##1\null{\figureautorefnamelong~##1\null}%
  \def\tableautorefname~##1\null{\tableautorefnamelong~##1\null}%
  \def\equationautorefname~##1\null{\equationautorefnamelong~##1\null}%
  \autoref{#1}%
  \endgroup%
}

%% numeration of numeric environments
\renewcommand{\labelenumi}{\alph{enumi})} 	
\renewcommand{\labelenumii}{\arabic{enumi}.\arabic{enumii}}
\renewcommand{\labelenumiii}{\arabic{enumi}.\arabic{enumii}.\arabic{enumiii}}
% a)
% a.a)
% a.a.a)

\setlist[1]{labelindent=\parindent}	% labels are indented by this length
\setlist[itemize,1]{label={--}}		% item environments use a -- for itemizing

%------------------------------
% NEW UNITS
%------------------------------
\DeclareSIUnit\torr{Torr}			% defines the unit Torr
\DeclareSIUnit\fahrenheit{\degree F}% defines the unit Â°F
\DeclareSIUnit\atm{atm}				% defines the unit atm

%------------------------------
% REFERENCES AND CITATIONS
%------------------------------
\renewcaptionname{english}{\bibname}{References}
\setlength\bibitemsep{0.5\baselineskip}	% distance between two references
\setlength{\bibhang}{5ex}		% indent below first line of reference
\DeclareFieldFormat[			% no quotation marks in citetitle
	article,
	inbook,
	incollection,
	inproceedings,
	patent,
	thesis,
	unpublished
]{citetitle}{#1\midsentence\isdot}						
\DeclareFieldFormat[			% no quotation marks in title
	article,
	inbook,
	incollection,
	inproceedings,
	patent,
	thesis,
	unpublished
]{title}{#1\midsentence\isdot} 	
\renewcommand*{\nameyeardelim}{\addcomma\space}			% comma between author and year	
\DeclareFieldFormat{pages}{#1}	% no S. or pp. before pages
\DefineBibliographyStrings{english}{phdthesis = {\itshape Dissertation}}					% Name dissertations Dissertations for entry type phdthesis
\DefineBibliographyStrings{ngerman}{phdthesis = {\itshape Dissertation}}
\DefineBibliographyStrings{english}{% for backreferencing in list of references
  backrefpage = {cit. on p.},	
  backrefpages = {cit. on pp.},
}
\DefineBibliographyStrings{ngerman}{%
  backrefpage = {zit. auf S.},	
  backrefpages = {zit. auf den S.},	
}
\renewbibmacro{in:}{%			% suppress in: before name of journal, book, etc.
  \ifboolexpr{%
     test {\ifentrytype{article}}%
     or
     test {\ifentrytype{book}}%
  }{}{\printtext{\bibstring{in}\intitlepunct}}%
}							
\DefineBibliographyStrings{ngerman}{% before URL german
urlseen = {letzter Zugriff},
}
\DefineBibliographyStrings{english}{% before URL english
urlseen = {last access},
}

%------------------------------
% ONLY FOR DISSERTATIONS
%------------------------------

\DeclareBibliographyCategory{inbib}	% a specific category for all citations in the text, NOT in the publication list
\newcommand{\printpublication}[1]{\AtNextCite{\defcounter{maxnames}{99}}\fullcite{#1}}						% print all authors in case the \printpublication command is used
\makeatletter										
\AtEveryCitekey{%
  \ifcsstring{blx@delimcontext}{fullcite}	% if a citation is made with the fullcite command, do not show it in the references
    {}
    {\addtocategory{inbib}{\thefield{entrykey}}}}	% if is is normally cited later, add it to the references
\makeatother

%------------------------------
% INTERNET
%------------------------------
\renewcommand*{\UrlFont}{\upshape}

%------------------------------
% CODE
%------------------------------
\renewcommand{\lstlistingname}{Code}	% rename listing in appendix

%------------------------------
% HYPERREF
%------------------------------
\hypersetup{
    bookmarks,					% writes Acrobat bookmarks, not necessary when using the pdfx package
    bookmarksnumbered=true,		% bookmarks are numbered in PDF
    bookmarksopen=false,		% bookmarks are closed when PDF is opened
    citebordercolor=blue,		% border color for citations
    colorlinks=false,			% no different font color for links
    hypertexnames=true, 		% use guessable names for links
    linkbordercolor=red, 		% color for links
    linktocpage, 				% use page numbers as links in table of contents    
    %pagebackref,				% links to pages in references, not working with biblatex!
    pdfpagelabels, 				% set PDF page labels, not necessary when using the pdfx package
    pdfpagelayout=TwoPageRight, % automatically open PDF as double page, odd pages to the right
    urlbordercolor=cyan,		% border color for URLs
}